<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{front/layouts/main}">

    <main layout:fragment="content">
<!-- 어트리뷰트 pageTitle 속성에서 받아옴-->
<title th:if="${pageTitle != null}" th:text="${pageTitle}"></title>

<h1>마음에 드는 순서대로 키워드를 바구니에 드래그 해주세요!</h1>

<ul>
    <!-- Thymeleaf로 키워드 렌더링 -->
    <li th:each="keyword : ${keywords}"
        th:text="${keyword}"
        class="draggable"
        draggable="true"
        ondragstart="drag(event)">
    </li>
</ul>

<div id="basket" ondrop="drop(event)" ondragover="allowDrop(event)">
    <p>바구니에 담긴 키워드가 없습니다.</p>
    <ul></ul>
</div>

<form id="keywordsForm" method="post" action="/recommend/loading">
    <!-- 키워드를 담을 숨겨진 input 필드 -->
    <input type="hidden" name="selectedKeywords" id="selectedKeywords">
    <!-- CSRF 토큰을 포함 -->
    <input type="hidden" name="_csrf" th:value="${_csrf.token}">
</form>

<button id="recommendBtn">꽃 추천받기</button>
</main>
</html>
